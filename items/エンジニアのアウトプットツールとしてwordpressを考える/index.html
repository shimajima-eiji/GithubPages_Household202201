<p data-sourcepos="1:1-1:15">本稿では、</p>
<ul data-sourcepos="3:1-6:0">
<li data-sourcepos="3:1-3:59">たかがwordpressのためにお金を払いたくない</li>
<li data-sourcepos="4:1-4:47">Webサービスにお金を払いたくない</li>
<li data-sourcepos="5:1-6:0">無料ホスティングはいっぱいあるのに、動的サービスが有料なのはおかしい</li>
</ul>
<p data-sourcepos="7:1-7:105">という、前時代的なおじさんがデモデモダッテする様子を見る事ができます。</p>
<h2 data-sourcepos="9:1-9:33">
<span id="wordpressって使えるの" class="fragment"></span><a href="#wordpress%E3%81%A3%E3%81%A6%E4%BD%BF%E3%81%88%E3%82%8B%E3%81%AE"><i class="fa fa-link"></i></a>WordPressって使えるの？</h2>
<p data-sourcepos="10:1-10:129">A. アウトプットが目的でなければアリ、アウトプットツールとして使いたいだけならナシです。</p>
<p data-sourcepos="12:1-12:126">要するに、wordpressの案件をやりたいなら使うべきで、そうでなければ使うべきではないです。</p>
<h3 data-sourcepos="14:1-14:39">
<span id="個人レベルでdbは必要ない" class="fragment"></span><a href="#%E5%80%8B%E4%BA%BA%E3%83%AC%E3%83%99%E3%83%AB%E3%81%A7db%E3%81%AF%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>個人レベルでDBは必要ない</h3>
<p data-sourcepos="15:1-15:140">WordPressというより動的CMSを全否定しますが、個人のアウトプットツールとして考えると、DBは不要です。</p>
<p data-sourcepos="17:1-19:269">たとえば個人で使用している2台のPCがあり、どちらもほどほどに使っているとします。<br>
筆者の環境でもWindowsPC(WSL)とMacPCの２台が存在しており、案件に合わせて使い分けています。<br>
この２台にwordpressを入れた後に、片方の更新をもう一方のPCに適用するのに手動で操作したり、gitなどを使ってプラグインなどを最新化した後にデータベースを書き換える必要があるかもしれません。</p>
<p data-sourcepos="21:1-21:289">DBの代わりになるファイル（いわゆるテキストDB）を作って、そちらを読み込む事で解決できればgit管理もできそうですが、wordpressの場合はなんだかんだでうまく行ったり行かなかったりするので非推奨です（２敗）</p>
<h3 data-sourcepos="23:1-23:16">
<span id="解決方法" class="fragment"></span><a href="#%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>解決方法</h3>
<p data-sourcepos="24:1-25:95">ローカルPCでwordpressの運用をしないのがベターです。<br>
つまり、クラウドPCを作ってその中にwordpressを入れれば解決できます。</p>
<p data-sourcepos="27:1-30:144">もう一つの手段としては、wordpressを入れた端末にネットワーク経由でアクセスする方法です。<br>
リモートツールを使っても構いません。<br>
ただし、wordpressを入れた端末を落とす時に、リモート接続される可能性を考えるとなかなか電源を落としにくくなります。<br>
また、いつでも気軽に電源を落とせないとなると、電気代が気になるのであまり良い選択とは言えません。</p>
<p data-sourcepos="32:1-32:57">あなたの環境に合わせて選んでください。</p>
<h2 data-sourcepos="34:1-34:18">
<span id="求める要件" class="fragment"></span><a href="#%E6%B1%82%E3%82%81%E3%82%8B%E8%A6%81%E4%BB%B6"><i class="fa fa-link"></i></a>求める要件</h2>
<ul data-sourcepos="35:1-52:0">
<li data-sourcepos="35:1-35:18"><strong>完全無料</strong></li>
<li data-sourcepos="36:1-37:55">収益化できる（＝アフィリエイトが容易）
<ul data-sourcepos="37:3-37:55">
<li data-sourcepos="37:3-37:55">マルチサイト・マルチブログができる</li>
</ul>
</li>
<li data-sourcepos="38:1-38:29">ページの表示が爆速</li>
<li data-sourcepos="39:1-52:0">
<strong>運用でイラつかない</strong>
<ul data-sourcepos="40:3-52:0">
<li data-sourcepos="40:3-40:28">記事の書きやすさ</li>
<li data-sourcepos="41:3-41:34">プレビュー機能がある</li>
<li data-sourcepos="42:3-42:28">ビルド時間が短い</li>
<li data-sourcepos="43:3-43:34">簡単で直感的な操作性</li>
<li data-sourcepos="44:3-44:37">開発時に環境を選ばない</li>
<li data-sourcepos="45:3-45:34">技術的要件が高くない</li>
<li data-sourcepos="46:3-49:48">メンテナンスコストが少ない
<ul data-sourcepos="47:5-49:48">
<li data-sourcepos="47:5-47:27">バニラで使える</li>
<li data-sourcepos="48:5-48:45">障害発生時の原因特定が容易</li>
<li data-sourcepos="49:5-49:48">バックアップ・リストアが容易</li>
</ul>
</li>
<li data-sourcepos="50:3-50:53">markdownに独自性がある（拡張markdown）</li>
<li data-sourcepos="51:3-52:0">fontawesomeが使える</li>
</ul>
</li>
</ul>
<p data-sourcepos="53:1-54:132">書いていて、婚活かなんかを想起しました…。<br>
要求は多いですが、可能な限り満たせる（＝全部が出来なくても良い）ように検討していきます。</p>
<h3 data-sourcepos="56:1-56:34">
<span id="要件を満たす解決方法" class="fragment"></span><a href="#%E8%A6%81%E4%BB%B6%E3%82%92%E6%BA%80%E3%81%9F%E3%81%99%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>要件を満たす解決方法</h3>
<p data-sourcepos="57:1-59:150">WordPressにはプラグインがあります。<br>
これがとても優秀で、導入すると当然バニラではなくなりますが、やりたい事（複雑な事）は大体先駆者がいい感じにやって公開してくれています。<br>
後は必要な情報を集めて、あるいは試行錯誤しながら導入をしてみてうまくいったものを採用すればよいです。</p>
<p data-sourcepos="61:1-63:99">今年に私が運用してみたところ、要件のほとんどを解決する事ができました。<br>
が、結局WordPressを選ばなかったため、導入は見送っています。<br>
今回WordPressで解決できたことと、見送った理由について触れていきます。</p>
<h3 data-sourcepos="65:1-65:85">
<span id="異なる端末で環境構築ができない冪等性を担保できない" class="fragment"></span><a href="#%E7%95%B0%E3%81%AA%E3%82%8B%E7%AB%AF%E6%9C%AB%E3%81%A7%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E5%86%AA%E7%AD%89%E6%80%A7%E3%82%92%E6%8B%85%E4%BF%9D%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>異なる端末で環境構築ができない（冪等性を担保できない）</h3>
<p data-sourcepos="66:1-67:525">まず、これが致命的でした。<br>
バックアップやリストアの手順は確立しているので、新規で導入する環境も同様の操作をすれば良いのですが、問題は端末ごとに環境が異なるため、プラグインの設定（パス情報など、データベース側）を都度いじる必要があり、バックアップ促進のため開発環境ごとgitに入れていたのですが、同一環境のためのバックアップとなってしまい、本来想定していた運用ができなくなりました。</p>
<p data-sourcepos="69:1-71:180">たとえば、ハイパワーマシンでビルド、シンクライアントで記事を作成したい場合は活用できません。<br>
これを実現する場合、ハイパワーマシンに接続できるようにして、シンクライアントから記事を作成する方法が手っ取り早いですが、ネットワークから遮断されるとこの方法もうまくいきません。<br>
今回はたまたまネットワークが不安定な場所でマシンを触る機会が多かったため、代案もうまくいかず運用が破綻してしまいました。</p>
<h3 data-sourcepos="73:1-73:34">
<span id="ビルドに時間がかかる" class="fragment"></span><a href="#%E3%83%93%E3%83%AB%E3%83%89%E3%81%AB%E6%99%82%E9%96%93%E3%81%8C%E3%81%8B%E3%81%8B%E3%82%8B"><i class="fa fa-link"></i></a>ビルドに時間がかかる</h3>
<p data-sourcepos="74:1-77:123">記事数が増えればどうしてもビルドに時間がかかるようになってしまいます。<br>
これは静的サイトジェネレーターを使うなら許容するしかない事象です。<br>
組み方にも寄ると思いますが、200記事のうち、1記事を更新するだけでもビルドに30分掛かるようになってきた頃から、精神衛生上よろしくないので運用が難しく感じてきました。<br>
せっかくgitを使うので、差分だけ取って更新する仕組みを最初から考えておくべきでした。</p>
<h3 data-sourcepos="79:1-79:61">
<span id="メンテナンスバージョンアップが面倒" class="fragment"></span><a href="#%E3%83%A1%E3%83%B3%E3%83%86%E3%83%8A%E3%83%B3%E3%82%B9%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97%E3%81%8C%E9%9D%A2%E5%80%92"><i class="fa fa-link"></i></a>メンテナンス（バージョンアップ）が面倒</h3>
<p data-sourcepos="80:1-83:366">これはWordPressの宿命です。<br>
結構な頻度でマイナーアップデートがされているので、しっかりと運営されているという意味では信頼感がありますが、アップデートのたびにデグレテストをするのは精神衛生上よろしくないです。<br>
アップデートを検知したらバックアップを取って、念のためにビルドを実施しておきます。<br>
ビルドに成功すれば、アップデートをして再度ビルドし、問題なければgitに組み込む、という運用をしていたわけですが、ビルドに時間がかかりすぎたため、だんだん面倒くさくなりついにはアップデートを放置する状態になったので、思い切って捨てたという経緯です。</p>
<h2 data-sourcepos="85:1-85:39">
<span id="どうすれば良かったのか" class="fragment"></span><a href="#%E3%81%A9%E3%81%86%E3%81%99%E3%82%8C%E3%81%B0%E8%89%AF%E3%81%8B%E3%81%A3%E3%81%9F%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>どうすれば良かったのか？</h2>
<p data-sourcepos="86:1-88:393">メンテナンスコストを許容しつつ、なるべくメンテナンスで負荷にならないよう、なるべくプラグインを使わないようにすべきでした。<br>
プラグインは便利な反面、アップデート時のデグレテストの手間が増えます。<br>
ただし、プラグインが動くことを前提とした運用をせざるを得ない場合は、WordPress本体とほぼ同じ位置に当該プラグインの重要性を置き、将来的な変更または他とのバッティングが発生する可能性があった時は取捨選択の判断が必要になる部分を最初から考慮しておいたほうが良いでしょう。</p>
<h2 data-sourcepos="90:1-90:78">
<span id="エンジニアのアウトプットツールとしてwordpressを考える" class="fragment"></span><a href="#%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AE%E3%82%A2%E3%82%A6%E3%83%88%E3%83%97%E3%83%83%E3%83%88%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A8%E3%81%97%E3%81%A6wordpress%E3%82%92%E8%80%83%E3%81%88%E3%82%8B"><i class="fa fa-link"></i></a>エンジニアのアウトプットツールとしてwordpressを考える</h2>
<p data-sourcepos="91:1-93:74">最初に述べたとおりですが、アウトプットが目的でなければアリ、アウトプットツールとして使いたいだけならナシです。<br>
アウトプットに集中したい場合は、シンプルにQiitaやnoteをはじめとしたブログサービスを使いましょう。<br>
公開しないのであれば、evernoteなんかもオススメです。</p>
<p data-sourcepos="95:1-96:234">要望が多くなればなるほど、技術的要件が高くなるのは実務でも同じですね。<br>
機能は多くの要望を叶えるより、運用でカバーできるものは対応しない方に進めるのが、運用も見据えた長期的なカスタマイズパッケージとしては優秀なのかもしれません。</p>
<p data-sourcepos="98:1-99:138">アウトプットを目的にしないのであれば、よく使われているwordpressの仕様やアップデート状況などを把握する意味でも、普段使いをしておくと近況に敏感になれます。<br>
また、wordpress独自のナレッジも蓄積されるので、案件獲得を目指すなら積極的に活用してみましょう。</p>
<h2 data-sourcepos="101:1-101:15">
<span id="次の記事" class="fragment"></span><a href="#%E6%AC%A1%E3%81%AE%E8%A8%98%E4%BA%8B"><i class="fa fa-link"></i></a>次の記事</h2>
<ul data-sourcepos="102:1-103:88">
<li data-sourcepos="102:1-102:51"><a href="https://qiita.com/nomurasan/items/">(21日目) </a></li>
<li data-sourcepos="103:1-103:88"><a href="https://qiita.com/advent-calendar/2022/oreno_nomurasan2022">カレンダーページ</a></li>
</ul>
