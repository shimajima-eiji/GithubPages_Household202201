<p data-sourcepos="1:1-1:111">AWSでワードプレスをやるなら愛用のプラグインが使えるか事前調査したほうがいい</p>
<p data-sourcepos="3:1-6:39">ここはadiaryで作ってますがらあまりにも小回りが利かなさすぎてキレて移行を決めました。<br>
「それ、◯◯で出来るよ」という話は聞きますが、Ruby並に知ってることを前提に、知らない人に気づく仕組みが用意されてなさすぎてウンザリした、というのが実情です。<br>
AWSでやるならサーバーインフラが整えば何とかなるものに限って、やれ通信プロトコルだのルーティングなどに手をつけ始めると血反吐を吐くことになります。<br>
具体的にお話ししましょう。</p>
<ul data-sourcepos="8:1-21:0">
<li data-sourcepos="8:1-11:0">
<p data-sourcepos="8:3-10:244">http→httpsリダイレクト<br>
一筋縄ではいかないです。証明書が無料なのでELB(ALB)を使うことがほとんどだと思いますが、これがなかなかうまくいかない。<br>
EC2インスタンスの設定だけでも一苦労された方も多いと思いますが、セキュリティグループの見直しから証明書の適用からルート制御サービス（Route53）を操作する必要があります。</p>
</li>
<li data-sourcepos="12:1-16:0">
<p data-sourcepos="12:3-15:90">wwwあり、wwwなしドメイン転送<br>
S3を使えばできるんですが、S3を使うとリクエストの数だけ課金されます。<br>
アホか、と思って自前でapache2をこねくり回しましたが、リダイレクトループに陥ったりロードバランサーとケンカしたり…<br>
最悪の場合、http→httpsの転送に失敗してデグレートを起こします。</p>
</li>
<li data-sourcepos="17:1-21:0">
<p data-sourcepos="17:3-20:132">料金、ログ監視<br>
お金がかかる状態になってからアラートをあげたりしません。自動的に課金されてから、課金しましたとアラートが上がるのです。<br>
違う、そうじゃない。そんなアラートはいらない。<br>
使い方にもよりますが、無料期間が一年あってもお金はごっそり持っていかれることがあります。</p>
</li>
</ul>
<p data-sourcepos="22:1-23:99">便利だけど従量課金より、便利で固定費の方が結果的に安くなりました。<br>
レンタルサーバープランやVPSをもう一度見直して移行することにします。</p>
<ul data-sourcepos="25:1-38:0">
<li data-sourcepos="25:1-27:0">
<p data-sourcepos="25:3-26:135">これからサイトを始める人へ<br>
AWSは覚えることが多すぎるので、システム開発者でもない限り使うメリットはほとんどありません。</p>
</li>
<li data-sourcepos="28:1-32:0">
<p data-sourcepos="28:3-31:258">これからシステムを開発する人へ<br>
インフラ周りに制限があるため、予期せぬ問題に対して思いつく限りの対応がGUIでできます。<br>
基本的にフェールオーバーな設計になっているのでどこか一箇所でも崩せばサービスは守られますが、利用者にはメンテナンスと事前に周知しておく頻度は高まるでしょう。<br>
物理的にアプリケーションサーバーとデータベースサーバーを分離して、インフラ周りを対応できるので安全性はこの上なく高いです。そこは大きすぎるメリットなので有効活用しましょう。</p>
</li>
<li data-sourcepos="33:1-38:0">
<p data-sourcepos="33:3-37:124">adiaryはgithubpageに対応できるのか？<br>
今日何気なく見ていて思ったのがこれ。<br>
ローカルでadiaryを立ててこいつをgithubページで作れるか？というもの。<br>
ただし、adiaryの検索などは動的ページなのでこれらの機能は抹消する必要があります。<br>
（ユーザー的には困らないけど、管理者的にはローカルなのかgithubpageなのか混乱するかも）</p>
</li>
</ul>
<p data-sourcepos="39:1-40:87">当たり前ですが、adiaryは静的ページを作るものではないので、本番運用しないでください。<br>
（WordPressはほとんど動的ページですので、ここでは使えません）</p>
